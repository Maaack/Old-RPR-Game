[gd_scene load_steps=12 format=3 uid="uid://c4yhaqscgvsk7"]

[ext_resource type="Script" path="res://Scenes/Player/Player2D.cs" id="1_71rcx"]
[ext_resource type="Texture2D" uid="uid://cnmoxhlsohx60" path="res://Assets/Sourced/Sprites/spaceShooter2_spritesheet.png" id="2_nubly"]
[ext_resource type="PackedScene" uid="uid://byhdlnkiw5onm" path="res://Scenes/Components/PilotInputComponent.tscn" id="3_wpgb4"]
[ext_resource type="PackedScene" uid="uid://6r84upex14h4" path="res://Scenes/Components/EngineControlComponent.tscn" id="4_bl5nt"]
[ext_resource type="PackedScene" uid="uid://ryv1niaq74gt" path="res://Scenes/Components/ShootingControlComponent.tscn" id="5_tcsau"]
[ext_resource type="PackedScene" uid="uid://b4qyvrdegd2st" path="res://Scenes/Bullets/Bullet2D.tscn" id="6_vhtmn"]
[ext_resource type="PackedScene" uid="uid://dy34rr3buwvtf" path="res://Scenes/Components/HurtArea2D.tscn" id="7_kkpsi"]

[sub_resource type="AtlasTexture" id="AtlasTexture_i7p3j"]
atlas = ExtResource("2_nubly")
region = Rect2(567, 191, 100, 94)

[sub_resource type="Animation" id="Animation_4otke"]
resource_name = "SPAWN"
length = 0.5
loop_mode = 1
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.25, 0.5),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [false, true, false]
}

[sub_resource type="Animation" id="Animation_2skmd"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ddhj7"]
_data = {
"RESET": SubResource("Animation_2skmd"),
"SPAWN": SubResource("Animation_4otke")
}

[node name="Player2D" type="RigidBody2D"]
script = ExtResource("1_71rcx")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="."]
polygon = PackedVector2Array(0, -48, 48, 40, -48, 40)

[node name="Sprite2D" type="Sprite2D" parent="."]
texture = SubResource("AtlasTexture_i7p3j")
flip_v = true

[node name="PilotInputComponent" parent="." instance=ExtResource("3_wpgb4")]
Enabled = false

[node name="EngineControlComponent" parent="." node_paths=PackedStringArray("PilotInputComponent", "Body2D") instance=ExtResource("4_bl5nt")]
PilotInputComponent = NodePath("../PilotInputComponent")
Body2D = NodePath("..")
EngineForce = 8.0
RotationalForceMod = 8.0

[node name="ShootingControlComponent" parent="." node_paths=PackedStringArray("PilotInputComponent", "Body2D") instance=ExtResource("5_tcsau")]
PilotInputComponent = NodePath("../PilotInputComponent")
Body2D = NodePath("..")
BulletScene = ExtResource("6_vhtmn")
GunForce = 500.0
CoolDownTime = 0.02

[node name="HurtArea2D" parent="." instance=ExtResource("7_kkpsi")]
collision_mask = 2
monitoring = false

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="HurtArea2D"]
polygon = PackedVector2Array(0, -48, 48, 40, -48, 40)

[node name="SpawnAnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_ddhj7")
}
autoplay = "SPAWN"

[connection signal="DamageReceived" from="HurtArea2D" to="." method="OnHurtArea2DDamageReceived"]
